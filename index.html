<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sweet & Bold - Pro Controller v12.0</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Oswald:wght@700&family=Roboto:wght@400;700;900&display=swap');
        
        :root {
            --accent-color: #00ff88; /* Fresh green accent */
            --main-dark: #0a0a0a;
            --glass-bg: rgba(255, 255, 255, 0.98);
            --panel-bg: #1a1a1a;
        }

        body { margin: 0; padding: 20px; font-family: 'Roboto', sans-serif; background: transparent; overflow-x: hidden; }

        /* --- FIXED & WIDE SCOREBOARD --- */
        .scoreboard-wrapper {
            position: fixed;
            top: 30px;
            left: 50px;
            display: flex;
            flex-direction: column;
            width: 1200px; /* Extra wide fixed width to prevent any movement */
            filter: drop-shadow(0 15px 30px rgba(0,0,0,0.6));
            z-index: 100;
        }

        /* EDITABLE LEAGUE BAR */
        .league-header {
            background: var(--main-dark);
            color: #fff;
            font-size: 26px;
            font-weight: 900;
            text-transform: uppercase;
            text-align: center;
            padding: 10px 0;
            letter-spacing: 5px;
            border-bottom: 3px solid var(--accent-color);
            border-radius: 12px 12px 0 0;
        }

        .main-scoreboard {
            display: flex;
            height: 140px; /* Taller bar for bigger logos */
            background: var(--glass-bg);
            border-radius: 0 0 12px 12px;
            overflow: hidden;
        }

        /* BIG LOGO SPACE */
        .team-box {
            display: flex;
            align-items: center;
            flex: 1;
            padding: 0 40px;
            font-family: 'Oswald', sans-serif;
            font-size: 56px;
            font-weight: 700;
            color: #000;
        }

        .home-box { justify-content: flex-start; }
        .away-box { justify-content: flex-end; }

        .logo-large {
            width: 150px; /* Big logo width */
            height: 100px; /* Big logo height */
            object-fit: contain; /* Ensures full logo shows */
            margin: 0 25px;
        }

        .score-container {
            background: #000;
            color: #fff;
            min-width: 220px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Oswald', sans-serif;
            font-size: 90px;
            font-weight: 700;
            border-left: 2px solid #333;
            border-right: 2px solid #333;
        }

        /* BIGGER & WIDER TIMER */
        .timer-box {
            background: #fff;
            color: #000;
            width: 260px; /* Wider timer area */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-left: 6px solid #f0f0f0;
        }

        .timer-main {
            font-size: 60px; /* Extra large timer */
            font-weight: 900;
            line-height: 1;
        }

        .timer-extra {
            font-size: 26px; /* Clear vertical stoppage time */
            color: #e60000;
            font-weight: 900;
            margin-top: 8px;
        }

        /* --- CONTROLLER --- */
        .controller { 
            background: var(--panel-bg); color: #ccc; padding: 30px; 
            border-radius: 15px; width: 1000px; margin: 300px auto 50px auto; 
            border: 1px solid #444; display: grid; grid-template-columns: 1fr 1fr; gap: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            position: relative; z-index: 10;
        }
        .control-box { border: 1px solid #444; padding: 15px; border-radius: 10px; background: #252525; }
        h3 { margin-top: 0; font-size: 14px; text-transform: uppercase; color: var(--accent-color); border-bottom: 1px solid #444; padding-bottom: 8px; margin-bottom: 15px;}
        .input-row { display: flex; align-items: center; margin-bottom: 10px; font-size: 13px; }
        .input-row label { width: 160px; }
        input { padding: 8px; border: 1px solid #555; border-radius: 5px; background: #111; color: white; }
        .short { width: 70px; text-align: center;}
        .full { flex-grow: 1; }
        .button-zone { grid-column: span 2; display: flex; gap: 15px; justify-content: center; padding-top: 15px; }
        button { padding: 12px 30px; font-weight: bold; cursor: pointer; border: none; border-radius: 6px; text-transform: uppercase; transition: 0.3s; }
        .btn-start { background: #28a745; color: white; }
        .btn-stop { background: #dc3545; color: white; }
        .btn-reset { background: #6c757d; color: white; }
    </style>
</head>
<body>

    <div class="scoreboard-wrapper">
        <div id="ui-league" class="league-header">MATCH STAGE</div>
        <div class="main-scoreboard">
            <div id="ui-h-sec" class="team-box home-box">
                <img id="ui-h-logo" src="" class="logo-large">
                <span id="ui-h-name">HOME</span>
            </div>
            <div class="score-container">
                <span id="ui-h-score">0</span>
                <span style="margin: 0 15px; opacity: 0.2;">-</span>
                <span id="ui-a-score">0</span>
            </div>
            <div id="ui-a-sec" class="team-box away-box">
                <span id="ui-a-name">AWAY</span>
                <img id="ui-a-logo" src="" class="logo-large">
            </div>
            <div class="timer-box">
                <span id="ui-timer-main" class="timer-main">LIVE</span>
                <span id="ui-timer-extra" class="timer-extra"></span>
            </div>
        </div>
    </div>

    <div class="controller">
        <div class="control-box">
            <h3>League Info</h3>
            <div class="input-row"><label>League/Stage Name:</label><input type="text" id="cfg-league" class="full" value="EFA SUPER CUP - FINAL"></div>
            <div class="input-row"><label>Kickoff Trigger:</label><input type="number" id="cfg-sh" class="short" placeholder="HH"> : <input type="number" id="cfg-sm" class="short" placeholder="MM"></div>
        </div>
        <div class="control-box">
            <h3>Timing Control</h3>
            <div class="input-row"><label>Current Time (M:S):</label><input type="number" id="cfg-m" class="short" value="0" oninput="manualSync()"> : <input type="number" id="cfg-s" class="short" value="0" oninput="manualSync()"></div>
        </div>
        <div class="control-box">
            <h3>Home Side</h3>
            <div class="input-row"><label>Name / Score:</label><input type="text" id="cfg-hn" class="short" value="EGY"> <input type="number" id="cfg-hg" class="short" value="0"></div>
            <div class="input-row"><label>Full Logo URL:</label><input type="text" id="cfg-h-f" class="full" value="https://flagcdn.com/w160/eg.png"></div>
        </div>
        <div class="control-box">
            <h3>Away Side</h3>
            <div class="input-row"><label>Name / Score:</label><input type="text" id="cfg-an" class="short" value="BEN"> <input type="number" id="cfg-ag" class="short" value="0"></div>
            <div class="input-row"><label>Full Logo URL:</label><input type="text" id="cfg-a-f" class="full" value="https://flagcdn.com/w160/bj.png"></div>
        </div>
        <div class="button-zone">
            <button class="btn-start" onclick="startTimer()">START CLOCK</button>
            <button class="btn-stop" onclick="stopTimer()">STOP</button>
            <button class="btn-reset" onclick="resetAll()">RESET</button>
            <button style="background:#007bff; color:white;" onclick="copyURL()">COPY SOURCE LINK</button>
        </div>
    </div>

    <script>
        let totalSecs = 0; let matchInterval = null; let isStarted = false; let isBreakStatic = false;
        let staticElapsed = 0; let isSecondHalf = false; let lastAutoStartMin = -1;

        function updateUI() {
            document.getElementById('ui-league').innerText = document.getElementById('cfg-league').value;
            document.getElementById('ui-h-name').innerText = document.getElementById('cfg-hn').value.toUpperCase();
            document.getElementById('ui-a-name').innerText = document.getElementById('cfg-an').value.toUpperCase();
            document.getElementById('ui-h-score').innerText = document.getElementById('cfg-hg').value; 
            document.getElementById('ui-a-score').innerText = document.getElementById('cfg-ag').value;
            document.getElementById('ui-h-logo').src = document.getElementById('cfg-h-f').value; 
            document.getElementById('ui-a-logo').src = document.getElementById('cfg-a-f').value;

            let pad = (v) => v < 10 ? "0"+v : v;
            let uiMain = document.getElementById('ui-timer-main');
            let uiExtra = document.getElementById('ui-timer-extra');

            if (!isStarted && !isBreakStatic) { uiMain.innerText = "LIVE"; uiExtra.innerText = ""; return; }
            if (isBreakStatic) { uiMain.innerText = "45:00"; uiExtra.innerText = "+09:00"; return; }

            let m = Math.floor(totalSecs / 60); let rs = totalSecs % 60; 

            // Stoppage time logic (v9.6 Standard)
            if (totalSecs > 2700 && !isSecondHalf) {
                uiMain.innerText = "45:00"; uiExtra.innerText = "+" + pad(m-45) + ":" + pad(rs);
            } else if (totalSecs > 5400) {
                uiMain.innerText = "90:00"; uiExtra.innerText = "+" + pad(m-90) + ":" + pad(rs);
            } else {
                uiMain.innerText = pad(m) + ":" + pad(rs); uiExtra.innerText = "";
            }
        }

        function manualSync() {
            let manualMin = parseInt(document.getElementById('cfg-m').value) || 0;
            let manualSec = parseInt(document.getElementById('cfg-s').value) || 0;
            totalSecs = manualMin * 60 + manualSec;
            isSecondHalf = manualMin >= 45;
            updateUI();
        }

        function handleTimeFlow() {
            // Automated 17-minute break logic (9 active + 8 static)
            if (totalSecs === 3240 && !isSecondHalf && !isBreakStatic) {
                isBreakStatic = true; staticElapsed = 0; return;
            }
            if (isBreakStatic) {
                staticElapsed++;
                if (staticElapsed >= 480) { isBreakStatic = false; isSecondHalf = true; totalSecs = 2700; }
            } else {
                totalSecs++;
                document.getElementById('cfg-m').value = Math.floor(totalSecs / 60);
                document.getElementById('cfg-s').value = totalSecs % 60;
            }
            updateUI();
        }

        function startTimer() { if (matchInterval) return; isStarted = true; manualSync(); matchInterval = setInterval(handleTimeFlow, 1000); updateUI(); }
        function stopTimer() { clearInterval(matchInterval); matchInterval = null; isStarted = false; updateUI(); }
        function resetAll() { stopTimer(); isBreakStatic = false; isSecondHalf = false; totalSecs = 0; document.getElementById('cfg-m').value = 0; document.getElementById('cfg-s').value = 0; updateUI(); }

        function copyURL() {
            const params = new URLSearchParams({
                lg: document.getElementById('cfg-league').value, hn: document.getElementById('cfg-hn').value, an: document.getElementById('cfg-an').value,
                hg: document.getElementById('cfg-hg').value, ag: document.getElementById('cfg-ag').value, hf: document.getElementById('cfg-h-f').value, 
                af: document.getElementById('cfg-a-f').value, sh: document.getElementById('cfg-sh').value, sm: document.getElementById('cfg-sm').value, 
                cm: document.getElementById('cfg-m').value, cs: document.getElementById('cfg-s').value
            });
            const fullURL = window.location.href.split('?')[0] + '?' + params.toString();
            navigator.clipboard.writeText(fullURL); alert("Source Link Copied!");
        }

        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const fields = {'cfg-league':'lg','cfg-hn':'hn','cfg-an':'an','cfg-hg':'hg','cfg-ag':'ag','cfg-h-f':'hf','cfg-a-f':'af','cfg-sh':'sh','cfg-sm':'sm','cfg-m':'cm','cfg-s':'cs'};
            for (let id in fields) { let val = urlParams.get(fields[id]); if (val !== null) document.getElementById(id).value = val; }
            updateUI();
        };

        setInterval(() => { 
            let h = document.getElementById('cfg-sh').value; let m = document.getElementById('cfg-sm').value; let now = new Date();
            if (h !== "" && m !== "" && !isStarted && !isBreakStatic) { 
                if (now.getHours() == parseInt(h) && now.getMinutes() == parseInt(m) && lastAutoStartMin !== now.getMinutes()) {
                    lastAutoStartMin = now.getMinutes(); startTimer(); 
                }
            } 
        }, 1000);
        setInterval(updateUI, 500);
    </script>
</body>
</html>